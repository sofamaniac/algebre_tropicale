# coding: utf-8
from time import perf_counter
import numpy as np
from tropical_lib import matrix_multiplication, power


def perf_test():
    a = np.array([[ 71, 617, 219, 525,   8,  80, 368, 702, 728, 582, 113, 339, 258,
                    900, 965, 911, 425, 318, 627, 469, 690, 793, 899, 541, 938, 903,
                    692, 743, 744, 741],
                  [308, 791,  21, 396, 450,  28, 500, 791,  87, 767, 606,  48, 538,
                   616,  81, 448, 779, 770, 705, 685, 344, 536, 969, 120, 543, 172,
                   654,  52,  26, 783],
                  [ 96, 593, 242, 808, 980, 392, 167, 915, 151, 744, 594,  38, 467,
                    126, 563, 660, 701, 399, 449,  12,  32, 205, 730, 101, 805, 881,
                    941, 131, 636, 921],
                  [436,  70, 814, 306, 786, 466, 594, 346, 970, 766, 181, 487, 184,
                   568, 971, 976, 903,  94, 787, 156, 289, 602, 752, 431,  34, 343,
                   231, 296, 270, 347],
                  [965,  75, 432, 989, 424, 215, 417, 890, 596, 884, 570,  53, 212,
                   89, 568, 216, 502, 110, 498, 334, 125, 672,  71, 743, 125, 697,
                   92, 126, 602, 963],
                  [ 11, 636, 109,  55, 922, 392, 895, 764, 257, 840,  36, 341, 173,
                    820, 759, 799, 801, 141, 154, 774, 491, 731, 687, 753, 977, 790,
                    315, 579, 499, 128],
                  [222, 506,  10, 920, 906,  76, 803,  76,  15, 871, 312, 658, 693,
                   330, 164,  65, 345, 737, 402, 507, 523, 320, 210, 304,  42, 484,
                   584, 950,  16, 609],
                  [366,  21, 157, 109, 271,  73, 308, 487, 162, 201, 206, 235, 823,
                   192, 639, 407, 167, 637,  97, 974, 965,  18, 249, 960,  25,  91,
                   269, 976,  95, 276],
                  [172, 860, 721, 232, 292, 841, 538, 163, 513, 999, 237, 710, 224,
                   286, 846, 984, 189, 386, 429, 377, 756, 473, 770, 203, 249, 318,
                   166, 703, 481, 345],
                  [ 57, 990, 546, 116, 645, 217, 583, 380, 557, 871, 968, 141, 407,
                    923, 872, 143, 836, 321, 539, 704, 459, 588, 917, 287,  93,  20,
                    215, 309, 818, 383],
                  [338, 469, 920, 962,  96, 785, 865, 681, 507,  83, 585, 371, 580,
                   818, 454, 755, 852, 516, 201, 294, 915, 853, 221, 840, 252, 973,
                   761, 576, 165, 507],
                  [333, 464, 333, 286, 142, 399, 904, 418, 184, 637, 329, 972, 427,
                   211,  83, 218, 881, 551, 647, 708,  78, 717, 919, 326, 473, 785,
                   744, 154, 882, 710],
                  [213, 127, 949, 946, 601, 624, 565, 949, 283, 403, 936, 243, 960,
                   796, 787, 322, 700, 735, 270, 708, 652, 954, 658, 269, 184, 371,
                   660, 259,  86, 397],
                  [400, 537, 886, 930, 317, 487, 158, 866, 849, 920, 434, 793, 480,
                   326, 227,   8, 249, 749, 105, 813, 370, 349, 966, 252, 451,  79,
                   184,   5, 648, 620],
                  [421, 755, 748, 419,  70, 822, 774, 486, 415, 909, 137, 279, 280,
                   646, 261, 206, 406, 166, 532, 382, 327, 306, 529, 781, 724, 493,
                   210, 981, 757, 957],
                  [373, 450, 597, 117, 740, 109, 463, 814, 997, 783, 975,  57, 541,
                   385, 820, 261, 464,  52, 921, 918, 158, 573, 654, 605, 955, 751,
                   477, 269, 468, 762],
                  [748, 971,  77, 744, 896, 839, 731, 226, 363, 262, 785, 603,  70,
                   318, 278, 307, 657, 285, 971, 304, 944, 712, 701, 556, 108, 357,
                   485, 440, 973, 346],
                  [176, 545, 957, 425, 108, 104,  22, 166, 340, 895, 915, 283, 157,
                   438, 274, 308, 962, 764, 829, 622,  51,  78, 645, 567, 938, 584,
                   402, 365, 166, 830],
                  [452, 978, 669, 183, 575, 204, 332,  35, 567, 608, 161, 148, 885,
                   182,  76, 656, 907, 549, 549, 150, 927, 771, 902, 374, 208, 490,
                   579, 494, 218, 359],
                  [317, 211, 648, 904, 998, 516, 464, 788, 932, 317, 883, 458, 457,
                   489, 952, 470, 789, 932, 603, 231, 438, 191, 604, 744, 724, 695,
                   550, 873, 565, 124],
                  [936,  24, 103, 884, 507,  84, 926, 248, 503, 607, 938, 496, 250,
                   145, 523,  77, 588, 622, 482, 833, 554, 814, 223, 768, 303, 728,
                   156, 320,  87, 194],
                  [623, 379, 562, 241, 497, 344, 533, 322, 464,  46, 383, 675, 350,
                   495, 309, 186,  69, 957, 469, 116, 609, 984, 703, 201, 139,  69,
                   105, 294, 136, 406],
                  [390, 677, 632, 611, 846, 551, 739, 199, 921,  81, 782, 534, 272,
                   575, 304,  72,  45, 405, 953,  17, 606, 992, 893, 543, 464,  81,
                   537, 861, 580, 398],
                  [529,  56, 141, 239, 663, 881, 712, 412, 815, 703, 855, 940, 613,
                   294,  99, 832, 801, 428, 726, 435, 303, 635, 953, 235,  62, 587,
                   377, 537, 621,  65],
                  [253, 672,  80, 363, 360, 328, 963, 179, 130,  95, 117, 967, 215,
                   994, 680, 424, 356, 116, 782,  59, 724, 494, 906,  53, 512, 581,
                   110, 972, 983, 845],
                  [344, 710, 196,  20, 117, 628, 714, 379, 336, 752, 828, 339, 482,
                   214, 169, 515, 251,  69,  97, 682, 672, 966, 716, 205, 448,  52,
                   994, 311,  39, 245],
                  [500, 986, 565, 397,  89,  84, 600, 303, 276, 753, 305, 727, 828,
                   180, 200, 480,  13, 477, 934, 487, 418, 576, 783, 347, 249, 141,
                   968, 932, 972, 821],
                  [127, 722, 800, 500, 906, 607, 613, 105, 167, 503, 152, 915, 648,
                   709, 591, 891, 268, 995, 529, 126, 911,  39, 348, 560, 808, 157,
                   894, 660, 950, 114],
                  [432, 599, 202, 210, 761, 506, 707, 998, 321, 756, 660, 354, 404,
                   318, 246, 800, 634,  43, 392,  91, 136, 464, 734, 582, 885, 635,
                   466, 538, 134,  35],
                  [265, 175, 306, 156, 539, 274, 648, 487, 148,  80, 636, 321, 115,
                   429, 610, 532, 333, 269, 306, 610, 411, 274, 745, 715, 100, 795,
                   864, 121, 437, 485]])

    b = np.array([[103,  87, 677, 360, 953, 943,  55, 800, 757, 998, 231, 189,  41,
                   778,  61, 101,  90, 844, 697,  67, 510, 475, 847, 923, 855, 173,
                   253, 171, 730, 575],
                  [405, 528, 458, 423, 120, 872, 228, 303,  88, 997, 885, 284,   9,
                   320, 515, 349, 332, 531, 899, 559,  39, 857, 489, 366, 928, 709,
                   315, 544, 428, 663],
                  [310, 400, 127, 700, 684,  11, 450, 464, 317, 621, 414, 660, 730,
                   372, 201, 271, 544, 394, 420, 352, 248, 741, 420, 219, 771, 965,
                   617, 414, 380, 403],
                  [465, 779, 731, 796,  57, 778, 159, 156, 870, 795, 298, 410, 458,
                   204, 271, 592, 312, 699, 270, 176, 661, 862, 157, 858, 308, 354,
                   989, 280, 853, 382],
                  [405, 439, 680, 449, 340, 971, 124, 404, 867, 445,  30, 793, 513,
                   269, 718, 545, 724,  43, 580, 657, 440, 341, 223, 222, 790,  13,
                   443, 127, 467,  26],
                  [582, 616, 694, 286, 918, 107, 675, 527,  11, 887, 917, 679, 283,
                   268, 491, 384, 163, 353, 682, 999, 669, 190, 921, 616, 275, 221,
                   778, 228, 717, 989],
                  [183,  74, 501, 418, 282, 145, 584, 152, 399, 447, 181, 955, 197,
                   554, 193, 598, 812, 660, 603,  13, 927,   6, 494, 276,  32, 329,
                   418, 745, 507, 486],
                  [ 67, 860, 870, 118, 392, 144, 799, 214, 487, 599, 514, 317, 347,
                    528, 673, 144, 461, 225,  47, 201, 790, 839, 229,  28, 548, 663,
                    117, 232, 268, 241],
                  [726, 973, 805, 854, 723, 475, 444, 847, 115, 531, 264, 824, 603,
                   597, 215, 161, 597, 174, 895, 900, 221,  38, 788,  63, 242, 506,
                   169, 461,  16, 428],
                  [111, 382,  91, 737, 505, 767, 212, 848, 355, 406, 280, 303, 721,
                   247, 747,  37, 421, 315, 468, 247, 691, 405, 464, 369, 424, 719,
                   820,  66, 751, 996],
                  [263, 876, 931, 556, 644,  50, 594,  36, 388, 778, 124, 468, 251,
                   916,  46, 724, 407, 993, 296, 206, 171, 233, 374, 478, 253, 890,
                   102,  11, 137, 809],
                  [760,  27, 186, 703,   9, 858, 669, 158, 299, 823, 214, 482, 295,
                   249, 247, 765, 274, 979, 593, 451, 172, 930, 785, 598, 745, 188,
                   641, 275, 676, 616],
                  [ 84, 934, 437, 512, 421, 778, 407, 402, 192, 834, 822, 270, 669,
                    86, 712, 525, 273, 883,  95, 171, 592, 109, 817, 706, 297, 112,
                    437, 265, 760,  58],
                  [242, 167, 820, 894, 442, 660, 551, 688, 850, 160, 893,   6, 931,
                   159, 291, 157, 462, 510, 391, 518, 900, 996, 881, 301, 979, 414,
                   921, 890, 893, 219],
                  [705, 475, 143, 181, 446, 481, 449, 645, 585, 186, 411, 212, 998,
                   58, 174, 104, 963, 338, 436, 921, 915, 653, 805, 276, 466, 718,
                   692, 429, 581, 200],
                  [607, 519, 866, 516, 886,   3, 457, 963, 924, 994, 673, 147, 225,
                   122, 434, 397,  33, 318, 199, 169, 621, 780, 534, 614, 235, 890,
                   931, 893, 716, 797],
                  [260, 698, 994, 269, 618, 723, 896, 697, 112, 331, 264, 276, 225,
                   891, 489, 917, 235, 772, 654, 262, 271, 590, 788, 772, 281, 419,
                   66, 201, 924, 303],
                  [223, 947, 205, 979, 807,  15, 462, 946, 266, 521, 424, 331, 288,
                   488,  10, 105, 902,  94,  80, 802, 550, 840, 780, 608, 259, 624,
                   268, 993, 297, 770],
                  [209, 850, 298, 699, 967, 525,  24, 574, 334, 609, 464, 895, 757,
                   535,  57, 488, 510, 511, 497, 667, 610, 765, 236, 983, 878, 269,
                   98, 455, 968, 279],
                  [929, 259, 347, 630, 465, 657, 635, 698, 997, 912, 270, 919, 333,
                   190, 555, 690, 182, 556, 747, 920, 704, 476, 674, 409, 136, 765,
                   97, 325, 299, 934],
                  [273, 978, 637, 196, 615, 363, 967,  42, 710, 822,  74, 191, 923,
                   564, 357, 501, 892, 454, 724, 126, 249, 781, 194, 613, 293, 944,
                   402, 800, 362, 607],
                  [ 26, 930, 541, 910, 914, 530, 486, 630, 833, 119, 936, 431, 429,
                    675, 921, 318, 272,  74, 532, 624, 920, 962, 277, 253, 378, 682,
                    648, 221, 753,  82],
                  [ 49, 328, 479,  85, 844,  53,  79, 521, 839, 959, 200, 663, 368,
                    36, 362, 449, 940, 407, 270, 917, 678, 812, 804, 492, 338, 726,
                    859,  81, 599, 316],
                  [222, 201, 699, 554, 682, 378,  36, 484, 440, 412, 875, 580, 504,
                   706, 563, 191,   1, 122, 214, 138, 245,  17, 708, 933, 836, 761,
                   502, 777, 141, 473],
                  [784, 763, 240, 850, 346, 699, 117,  33, 823,  64, 792, 936, 848,
                   127, 485, 530, 104, 348, 372, 796, 956, 156, 111, 918, 684, 894,
                   383, 955, 991, 378],
                  [951, 103, 192, 678, 920, 969, 284,  85, 905, 246, 871, 910, 171,
                   808,  72, 936, 796, 520, 937, 766, 301, 711, 856, 161, 568, 515,
                   299,  17, 500, 529],
                  [362, 945, 765, 682, 499, 573, 153, 750, 612,  83, 748, 891, 516,
                   403, 243, 677, 829, 110,  16, 355, 304, 847,  19, 863, 521, 636,
                   485, 757,  43,  57],
                  [479, 726, 881, 705, 345, 687, 814, 106, 979, 959, 375, 286, 669,
                   50, 593, 998, 909, 775, 271, 309, 911, 325, 300, 455, 242, 498,
                   753, 240, 968,  44],
                  [926, 750, 514, 569, 710, 174, 612, 963, 379, 668, 441, 701, 812,
                   67, 643, 509, 280, 699, 617, 114, 727, 243, 475, 700, 773, 671,
                   736, 101, 830,  52],
                  [406, 269, 176, 462, 304, 994, 829,  36, 605, 867, 920,  80, 561,
                   585,  42, 584,  51, 711, 158, 793, 893, 665, 668, 991, 780, 925,
                   205, 655, 251, 652]])

    t = perf_counter()
    for i in range(10):
        matrix_multiplication(a, b)
        matrix_multiplication(b, a)
    return perf_counter() - t


if __name__ == '__main__':
    print(perf_test())
